<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback | Equity Crew 26</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-gradient: radial-gradient(circle at top, #064e3b, #022c22);
            --primary-green: #10b981;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #ffffff;
            --text-muted: #94a3b8;
            --accent-gold: #f39c12;
        }

        [data-theme="dark"] {
            --bg-gradient: radial-gradient(circle at top, #020617, #000000);
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh;
        }

        .feedback-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            padding: 40px; border-radius: 30px;
            text-align: center; max-width: 450px; width: 90%;
            box-shadow: 0 40px 100px rgba(0,0,0,0.5);
        }

        .star-rating { margin: 25px 0; display: flex; justify-content: center; gap: 10px; }
        .star-rating i { font-size: 2rem; color: var(--glass-border); cursor: pointer; transition: 0.3s; }
        .star-rating i.active { color: var(--accent-gold); transform: scale(1.2); }

        textarea {
            width: 100%; background: rgba(0,0,0,0.2); border: 1px solid var(--glass-border);
            padding: 15px; border-radius: 15px; color: white; outline: none;
            font-family: inherit; margin-bottom: 20px; resize: none; box-sizing: border-box;
        }

        .btn-submit {
            background: var(--primary-green); color: white; border: none;
            width: 100%; padding: 16px; border-radius: 15px; font-weight: 800;
            cursor: pointer; transition: 0.3s;
        }
        .btn-submit:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(16,185,129,0.3); }

        .back-link { display: block; margin-top: 20px; color: var(--text-muted); text-decoration: none; font-size: 0.85rem; }
    </style>
</head>
<body data-theme="light">

    <div class="feedback-card" id="formBox">
        <h2 style="margin:0;">Your Thoughts?</h2>
        <p style="color:var(--text-muted); font-size: 0.9rem;">Help us improve the Equity Hub experience.</p>

        <div class="star-rating" id="stars">
            <i class="fas fa-star" data-value="1"></i>
            <i class="fas fa-star" data-value="2"></i>
            <i class="fas fa-star" data-value="3"></i>
            <i class="fas fa-star" data-value="4"></i>
            <i class="fas fa-star" data-value="5"></i>
        </div>

        <textarea id="comment" rows="4" placeholder="Any suggestions or issues?"></textarea>

        <button class="btn-submit" onclick="submitFeedback()">Send Feedback</button>
        <a href="index.html" class="back-link">Skip and go home</a>
    </div>

    <script>
        // Sync Theme
        document.body.setAttribute('data-theme', localStorage.getItem('hub-theme') || 'light');

        let selectedRating = 0;
        const stars = document.querySelectorAll('#stars i');

        stars.forEach(star => {
            star.addEventListener('click', () => {
                selectedRating = star.dataset.value;
                stars.forEach(s => s.classList.remove('active'));
                for(let i=0; i<selectedRating; i++) stars[i].classList.add('active');
            });
        });

        function submitFeedback() {
            const comment = document.getElementById('comment').value;
            if(selectedRating === 0) return alert("Please select a star rating.");

            // Log to Secretariat Admin Logs
            let logs = JSON.parse(localStorage.getItem('equity_logs') || '[]');
            logs.push({
                type: "FEEDBACK",
                date: new Date().toLocaleString(),
                title: `Rating: ${selectedRating} Stars`,
                content: comment || "No comment provided."
            });
            localStorage.setItem('equity_logs', JSON.stringify(logs));

            // Show Success UI
            document.getElementById('formBox').innerHTML = `
                <div style="font-size: 4rem; color: var(--primary-green); margin-bottom: 20px;"><i class="fas fa-heart"></i></div>
                <h2>Thank You!</h2>
                <p style="color:var(--text-muted);">Your feedback has been committed to the archives.</p>
                <a href="index.html" class="btn-submit" style="display:block; text-decoration:none; margin-top:20px;">Return Home</a>
            `;
        }
    </script>
</body>
</html>