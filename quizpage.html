<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Computing Assessment | Equity '26</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --gold: #d4af37;
            --deep-green: #022c22;
            --emerald: #064e3b;
            --border: rgba(212, 175, 55, 0.2);
            --glass: rgba(255, 255, 255, 0.05);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            background: radial-gradient(circle at center, #064e3b 0%, #022c22 100%);
            color: white; min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px;
        }

        .hidden { display: none !important; }
        .cambria { font-family: 'Cambria', serif; }

        .quiz-container {
            width: 100%; max-width: 900px; background: rgba(2, 44, 34, 0.9);
            backdrop-filter: blur(20px); border: 1px solid var(--border);
            border-radius: 30px; padding: 40px; box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }

        .header { text-align: center; border-bottom: 1px solid var(--border); padding-bottom: 20px; margin-bottom: 30px; }
        .header h1 { color: var(--gold); font-size: 1.8rem; letter-spacing: 2px; text-transform: uppercase; }

        .level-select {
            width: 100%; background: rgba(0,0,0,0.4); border: 1px solid var(--gold);
            color: white; padding: 15px; border-radius: 12px; margin: 20px 0; font-size: 1rem;
        }

        .timer-wrapper { width: 100%; height: 6px; background: rgba(255,255,255,0.1); border-radius: 10px; margin-bottom: 25px; overflow: hidden; }
        #timer-fill { width: 100%; height: 100%; background: var(--gold); transition: width 1s linear; }

        .progress-bar { width: 100%; height: 4px; background: rgba(255,255,255,0.05); margin-bottom: 10px; }
        #progress-fill { width: 0%; height: 100%; background: var(--gold); transition: 0.4s; }

        .option-btn {
            background: var(--glass); border: 1px solid var(--border); color: white;
            padding: 18px 25px; border-radius: 15px; text-align: left; cursor: pointer;
            transition: 0.3s; width: 100%; display: flex; align-items: center; margin-bottom: 15px;
        }

        .option-btn:hover { background: rgba(212, 175, 55, 0.1); border-color: var(--gold); transform: translateY(-2px); }
        .option-index { color: var(--gold); font-weight: 800; margin-right: 15px; }

        .btn-luxury {
            background: linear-gradient(135deg, var(--gold), #b08d29); color: #022c22;
            padding: 18px; border-radius: 12px; border: none; font-weight: 800;
            cursor: pointer; width: 100%; text-transform: uppercase; letter-spacing: 1px;
        }

        .score-circle {
            width: 160px; height: 160px; border: 4px solid var(--gold); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;
            font-size: 3rem; color: var(--gold); font-weight: 800; background: rgba(212, 175, 55, 0.05);
        }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 650px) { .options-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div class="quiz-container">
        <div class="header">
            <h1 class="cambria">Assessment Portal</h1>
            <p style="opacity: 0.6; font-size: 0.75rem;">EQUITY CREW '26 | GLOBAL STANDARDS</p>
        </div>

        <div id="quiz-intro">
            <h2 class="cambria" style="text-align: center; margin-bottom: 10px;">Select Curriculum Level</h2>
            <p style="text-align: center; opacity: 0.7; font-size: 0.9rem;">Generate a randomized 20-question exam from our departmental database.</p>
            
            <select id="levelFilter" class="level-select">
                <option value="ALL">All Levels (Comprehensive)</option>
                <option value="ND1">ND 1 (Intro & QBASIC)</option>
                <option value="ND2">ND 2 (Architecture & Data Structures)</option>
                <option value="HND1">HND 1 (OS & Database Design)</option>
                <option value="HND2">HND 2 (Security & Project Mgmt)</option>
            </select>

            <button class="btn-luxury" onclick="startQuiz()">Initialize Engine</button>
        </div>

        <div id="quiz-active" class="hidden">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.8rem;">
                <span>QUESTION <span id="q-num-text" style="color:var(--gold)">01</span> / 20</span>
                <span id="timer-text" style="font-weight: 800; color: var(--gold);">20s</span>
            </div>
            <div class="timer-wrapper"><div id="timer-fill"></div></div>

            <h2 id="q-text" class="cambria" style="margin-bottom: 30px; font-size: 1.2rem; line-height: 1.5;"></h2>
            <div id="q-options" class="options-grid"></div>
        </div>

        <div id="quiz-result" class="hidden" style="text-align: center;">
            <div class="score-circle" id="score-display">0%</div>
            <h2 id="rank-name" class="cambria" style="color: var(--gold);">RANK: AMATEUR</h2>
            <p id="rank-desc" style="margin: 20px 0 30px; opacity: 0.8; font-size: 0.9rem;"></p>
            <button class="btn-luxury" onclick="location.reload()">Return to Hub</button>
        </div>
    </div>

    <script>
        const TECH_QUIZ = [

        { q: "Which architectural model is the basis for most modern computer designs, separating memory from the CPU?", o: ["Harvard Architecture", "Von Neumann Architecture", "RISC Model", "Turing Machine"], a: 1 },
            { q: "In Data Structures, which one follows the 'Last In, First Out' (LIFO) principle?", o: ["Queue", "Linked List", "Stack", "Binary Tree"], a: 2 },
            { q: "What is the complexity of a Binary Search algorithm in the worst-case scenario?", o: ["O(n)", "O(n²)", "O(log n)", "O(1)"], a: 2 },
            { q: "Who is considered the world's first computer programmer?", o: ["Grace Hopper", "Ada Lovelace", "Katherine Johnson", "Joan Clarke"], a: 1 },
            { q: "Which protocol is responsible for resolving a domain name to an IP address?", o: ["DHCP", "SNMP", "DNS", "ICMP"], a: 2 },
            { q: "In Cybersecurity, what is 'Salting' used for?", o: ["Hard Drive Encryption", "Hashing Passwords", "SQL Filtering", "VPN Speed"], a: 1 },
            { q: "Which company developed the Java programming language in 1995?", o: ["Microsoft", "Sun Microsystems", "IBM", "Oracle"], a: 1 },
            { q: "What does the 'ACID' property in Database Management Systems ensure?", o: ["Fast Searching", "Transaction Integrity", "Auto-scaling", "Data Encryption"], a: 1 },
            { q: "Which Linux distribution is the foundation for the Android OS?", o: ["Ubuntu", "Debian", "Modified Linux Kernel", "Fedora"], a: 2 },
            { q: "In Cloud Computing, what does 'PaaS' stand for?", o: ["Platform as a Service", "Protocol as a Service", "Payment as a Service", "Programming as a Service"], a: 0 },
            { q: "What is the primary language used for querying Relational Databases?", o: ["Python", "NoSQL", "SQL", "C++"], a: 2 },
            { q: "Which unit in the CPU performs mathematical calculations?", o: ["Control Unit", "Registers", "ALU", "L1 Cache"], a: 2 },
            { q: "What is the maximum number of bits in an IPv6 address?", o: ["32 bits", "64 bits", "128 bits", "256 bits"], a: 2 },
            { q: "Which version control system was created by Linus Torvalds in 2005?", o: ["Subversion", "Mercurial", "Git", "Perforce"], a: 2 },
            { q: "What does 'RAID' stand for in data storage?", o: ["Rapid Access Drive", "Redundant Array of Independent Disks", "Reliable Data", "Remote Interface"], a: 1 },
            { q: "In QBASIC, which statement is used to display output on the screen?", o: ["DISPLAY", "OUTPUT", "PRINT", "WRITE"], a: 2 },
    { q: "What is the file extension for a QBASIC program file?", o: [".bas", ".exe", ".txt", ".obj"], a: 0 },
    { q: "Which QBASIC command allows you to add comments that aren't executed?", o: ["NOTE", "REM", "DESC", "COMM"], a: 1 },
    { q: "In QBASIC, which character is used at the end of a variable to make it a String?", o: ["#", "%", "$", "&"], a: 2 },
    { q: "Which loop is used when you know the exact number of iterations in QBASIC?", o: ["WHILE...WEND", "DO...LOOP", "FOR...NEXT", "IF...THEN"], a: 2 },
    { q: "What command is used to clear the output screen in QBASIC?", o: ["CLR", "CLS", "CLEAN", "DELETE"], a: 1 },
    { q: "What does the 'DIM' statement stand for in QBASIC?", o: ["Direction", "Dimension", "Divide", "Display"], a: 1 },

    // --- COMPUTER SYSTEMS & HARDWARE (ND Level) ---
    { q: "Which logic gate outputs 1 only if both inputs are 1?", o: ["OR", "NOR", "AND", "XOR"], a: 2 },
    { q: "What is the decimal equivalent of the binary number 1011?", o: ["9", "10", "11", "13"], a: 2 },
    { q: "Which component is known as the 'brain' of the computer?", o: ["RAM", "Hard Drive", "CPU", "Motherboard"], a: 2 },
    { q: "What type of memory is volatile?", o: ["ROM", "RAM", "EPROM", "Flash"], a: 1 },
    { q: "In binary addition, what is 1 + 1?", o: ["2", "10", "0", "1"], a: 1 },

    // --- OPERATING SYSTEMS & NETWORKING (ND/HND Level) ---
    { q: "Which layer of the OSI model is responsible for routing packets?", o: ["Physical", "Data Link", "Network", "Transport"], a: 2 },
    { q: "What is the default port for HTTP?", o: ["21", "25", "80", "443"], a: 2 },
    { q: "Which scheduling algorithm gives each process a fixed time slot?", o: ["First Come First Served", "Shortest Job First", "Round Robin", "Priority Scheduling"], a: 2 },
    { q: "What is a 'Deadlock' in Operating Systems?", o: ["Computer Virus", "Two processes waiting for each other", "Hard drive failure", "Expired Password"], a: 1 },
    { q: "Which command in Linux is used to list files in a directory?", o: ["cd", "dir", "ls", "list"], a: 2 },

    // --- DATA STRUCTURES & ALGORITHMS (HND Level) ---
    { q: "Which data structure uses the FIFO (First-In-First-Out) method?", o: ["Stack", "Queue", "Tree", "Graph"], a: 1 },
    { q: "What is the height of a balanced binary tree with N nodes?", o: ["O(N)", "O(log N)", "O(N log N)", "O(1)"], a: 1 },
    { q: "Which sorting algorithm is generally considered the fastest for large datasets?", o: ["Bubble Sort", "Insertion Sort", "Quick Sort", "Selection Sort"], a: 2 },
    { q: "In a Linked List, what does each node contain?", o: ["Data only", "Address only", "Data and Pointer", "Index and Value"], a: 2 },

    // --- SOFTWARE ENGINEERING & DBMS (HND Level) ---
    { q: "Which SDLC model is characterized by a sequential flow?", o: ["Agile", "Spiral", "Waterfall", "V-Model"], a: 2 },
    { q: "In SQL, which command is used to remove all records from a table without deleting the table structure?", o: ["DELETE", "DROP", "REMOVE", "TRUNCATE"], a: 3 },
    { q: "What does 'Normalization' in databases aim to reduce?", o: ["Data Security", "Data Redundancy", "Search Speed", "Storage Cost"], a: 1 },
    { q: "Which key uniquely identifies a record in a table?", o: ["Foreign Key", "Secondary Key", "Primary Key", "Composite Key"], a: 2 },

    // --- ADVANCED TOPICS (HND Level) ---
    { q: "In Automata Theory, what does 'FA' stand for?", o: ["Fast Algorithm", "Finite Automata", "File Access", "Function Analysis"], a: 1 },
    { q: "Which AI field involves teaching computers to learn from data?", o: ["Robotics", "Expert Systems", "Machine Learning", "Natural Language Processing"], a: 2 },
    { q: "What is the primary purpose of a Compiler?", o: ["Execute Code", "Translate High-Level to Machine Code", "Debug Errors", "Format Text"], a: 1 },
        
    // --- COM 111: Introduction to Computing ---
    { q: "Which computer generation introduced the use of Integrated Circuits (ICs)?", o: ["First", "Second", "Third", "Fourth"], a: 2 },
    { q: "What is the smallest unit of data in a computer?", o: ["Nibble", "Byte", "Bit", "Pixel"], a: 2 },
    { q: "A keyboard is an example of which type of device?", o: ["Output", "Storage", "Input", "Processing"], a: 2 },
    { q: "Which component is responsible for power distribution inside a PC?", o: ["CPU", "SMPS", "RAM", "BIOS"], a: 1 },
    { q: "What is the base of the Hexadecimal number system?", o: ["2", "8", "10", "16"], a: 3 },
    { q: "Which software acts as an interface between the user and the computer hardware?", o: ["Application", "Operating System", "Utility", "Driver"], a: 1 },

    // --- COM 113: Introduction to Programming (QBASIC FOCUS) ---
    { q: "In QBASIC, which command is used to accept input from a user?", o: ["PRINT", "LET", "INPUT", "READ"], a: 2 },
    { q: "Which symbol denotes a String variable in QBASIC?", o: ["%", "$", "#", "&"], a: 1 },
    { q: "What is the output of 'PRINT 5 + 2 * 3' in QBASIC?", o: ["21", "11", "10", "13"], a: 1 },
    { q: "Which QBASIC statement is used to end a program?", o: ["STOP", "EXIT", "END", "FINISH"], a: 2 },
    { q: "Which of these is a valid Integer variable name in QBASIC?", o: ["Age$", "Age%", "Age#", "Age!"], a: 1 },
    { q: "Which loop is used for a fixed number of iterations?", o: ["DO...LOOP", "WHILE...WEND", "FOR...NEXT", "IF...THEN"], a: 2 },
    { q: "What does CLS stand for in QBASIC?", o: ["Clear System", "Close Screen", "Clear Screen", "Clean Source"], a: 2 },

    // --- COM 212: Data Structures ---
    { q: "Which data structure works on the LIFO principle?", o: ["Queue", "Stack", "Array", "Linked List"], a: 1 },
    { q: "What is the time complexity of searching an element in a balanced Binary Search Tree?", o: ["O(n)", "O(1)", "O(log n)", "O(n²)"], a: 2 },
    { q: "Which data structure uses pointers to connect nodes?", o: ["Stack", "Array", "Linked List", "Queue"], a: 2 },
    { q: "What is a linear data structure where elements are added at the rear and removed from the front?", o: ["Stack", "Queue", "Tree", "Graph"], a: 1 },
    { q: "In a tree, a node with no children is called a:", o: ["Root", "Branch", "Leaf", "Stem"], a: 2 },

    // --- COM 311: Operating Systems 1 (HND Preparation) ---
    { q: "What is the main core of an Operating System called?", o: ["Shell", "Kernel", "BIOS", "Command Prompt"], a: 1 },
    { q: "Which state is a process in when it's waiting for the CPU?", o: ["Running", "Ready", "Terminated", "Blocked"], a: 1 },
    { q: "What is 'Thrashing' in OS?", o: ["Deleting files", "High Paging activity", "CPU overheating", "Format error"], a: 1 },
    { q: "Which scheduling algorithm is non-preemptive?", o: ["Round Robin", "First-Come First-Served", "Priority", "Multi-level Queue"], a: 1 },
    { q: "What is the purpose of Virtual Memory?", o: ["Increase RAM speed", "Run large programs on small RAM", "Backup data", "Faster boot"], a: 1 },

    // --- COM 312: Database Design 1 ---
    { q: "What does SQL stand for?", o: ["Simple Query Language", "Structured Query Language", "Strong Query List", "Sequential Query Link"], a: 1 },
    { q: "Which SQL clause is used to filter records?", o: ["ORDER BY", "GROUP BY", "WHERE", "SELECT"], a: 2 },
    { q: "A unique key that identifies a record in another table is a:", o: ["Primary Key", "Foreign Key", "Candidate Key", "Super Key"], a: 1 },
    { q: "Which normal form deals with removing partial functional dependencies?", o: ["1NF", "2NF", "3NF", "BCNF"], a: 1 },
    { q: "Which command is used to add a new column to a table?", o: ["UPDATE", "INSERT", "ALTER", "CREATE"], a: 2 },

    // --- ND 1: COM 111 (Intro to Computing) & COM 113 (Intro to Programming) ---
    { q: "In QBASIC, which function returns the absolute value of a number?", o: ["ABS()", "SQR()", "INT()", "VAL()"], a: 0, cat: "ND1" },
    { q: "Which logic gate is known as the 'Universal Gate'?", o: ["AND", "OR", "NAND", "XOR"], a: 2, cat: "ND1" },
    { q: "What is the primary function of the BIOS?", o: ["Data Analysis", "Hardware Initialization", "Word Processing", "Internet Routing"], a: 1, cat: "ND1" },
    { q: "In QBASIC, what is the default value of a numeric variable?", o: ["1", "Null", "0", "-1"], a: 2, cat: "ND1" },

    // --- ND 2: COM 211 (Computer Architecture) & COM 212 (Data Structures) ---
    { q: "Which register holds the address of the next instruction to be executed?", o: ["Accumulator", "Program Counter", "Instruction Register", "Stack Pointer"], a: 1, cat: "ND2" },
    { q: "A Binary Search Tree (BST) has a worst-case search time of:", o: ["O(log n)", "O(1)", "O(n)", "O(n log n)"], a: 2, cat: "ND2" },
    { q: "What is the process of converting an analog signal to a digital signal?", o: ["Modulation", "Demodulation", "Digitization", "Multiplexing"], a: 2, cat: "ND2" },
    { q: "Which data structure is best for implementing a Undo/Redo feature?", o: ["Queue", "Stack", "Linked List", "Array"], a: 1, cat: "ND2" },

    // --- HND 1: COM 311 (Operating Systems) & COM 312 (Database Design) ---
    { q: "In Database Design, what is 3NF (Third Normal Form) concerned with?", o: ["Partial Dependencies", "Transitive Dependencies", "Multi-valued Dependencies", "Primary Keys"], a: 1, cat: "HND1" },
    { q: "What is a 'Sema-phore' used for in Operating Systems?", o: ["Memory Allocation", "Process Synchronization", "Disk Partitioning", "Virus Scanning"], a: 1, cat: "HND1" },
    { q: "Which SQL command is used to give permissions to a user?", o: ["REVOKE", "GRANT", "DENY", "ALLOW"], a: 1, cat: "HND1" },
    { q: "What is the 'Kernel' of an OS?", o: ["User Interface", "The core that manages hardware", "A security patch", "The boot loader"], a: 1, cat: "HND1" },

    // --- HND 2: COM 412 (Computer Graphics) & COM 422 (Project Management) ---
    { q: "In Computer Graphics, what is 'Rasterization'?", o: ["Vector creation", "Converting shapes to pixels", "Color mixing", "3D Modeling"], a: 1, cat: "HND2" },
    { q: "Which Project Management tool uses a network diagram to find the 'Critical Path'?", o: ["Gantt Chart", "PERT Chart", "Pie Chart", "Scatter Plot"], a: 1, cat: "HND2" },
    { q: "What is the standard port for Secure Shell (SSH)?", o: ["21", "22", "23", "25"], a: 1, cat: "HND2" },
    { q: "Which encryption type uses both a Public and Private key?", o: ["Symmetric", "Asymmetric", "Hashing", "Salting"], a: 1, cat: "HND2" },
            // ND1
            { q: "In QBASIC, which character is used at the end of a variable to make it a String?", o: ["#", "%", "$", "&"], a: 2, cat: "ND1" },
            { q: "Which command in QBASIC clears the output screen?", o: ["CLR", "CLS", "CLEAN", "DEL"], a: 1, cat: "ND1" },
            { q: "Who is considered the world's first computer programmer?", o: ["Grace Hopper", "Ada Lovelace", "Bill Gates", "Alan Turing"], a: 1, cat: "ND1" },
            { q: "What is the smallest unit of data in a computer?", o: ["Byte", "Nibble", "Bit", "Pixel"], a: 2, cat: "ND1" },
            { q: "Which logic gate is known as the 'Universal Gate'?", o: ["AND", "OR", "NAND", "XOR"], a: 2, cat: "ND1" },
            // ND2
            { q: "Which architectural model separates memory from the CPU?", o: ["Harvard", "Von Neumann", "RISC", "CISC"], a: 1, cat: "ND2" },
            { q: "Which data structure follows the 'Last In, First Out' (LIFO) principle?", o: ["Queue", "Linked List", "Stack", "Tree"], a: 2, cat: "ND2" },
            { q: "What is the decimal equivalent of the binary number 1011?", o: ["9", "10", "11", "13"], a: 2, cat: "ND2" },
            { q: "Which sorting algorithm is generally the fastest for large datasets?", o: ["Bubble", "Selection", "Quick Sort", "Insertion"], a: 2, cat: "ND2" },
            { q: "A node in a tree with no children is called a:", o: ["Root", "Stem", "Leaf", "Branch"], a: 2, cat: "ND2" },
            // HND1
            { q: "What is the core part of an Operating System called?", o: ["Shell", "Kernel", "BIOS", "Command"], a: 1, cat: "HND1" },
            { q: "What does the 'ACID' property in DBMS ensure?", o: ["Fast Searching", "Transaction Integrity", "Auto-scaling", "Encryption"], a: 1, cat: "HND1" },
            { q: "Which OSI layer is responsible for routing packets?", o: ["Physical", "Data Link", "Network", "Transport"], a: 2, cat: "HND1" },
            { q: "In SQL, which command removes all records but keeps the structure?", o: ["DELETE", "DROP", "TRUNCATE", "REMOVE"], a: 2, cat: "HND1" },
            { q: "What is 'Thrashing' in Operating Systems?", o: ["Deleting files", "High Paging activity", "CPU overheating", "Format error"], a: 1, cat: "HND1" },
            // HND2
            { q: "Which encryption type uses both a Public and Private key?", o: ["Symmetric", "Asymmetric", "Hashing", "Salting"], a: 1, cat: "HND2" },
            { q: "In Project Management, what does PERT stand for?", o: ["Program Evaluation Review Technique", "Priority Electronic Resource Tool", "Process End Real Time", "None"], a: 0, cat: "HND2" },
            { q: "What is the standard port for Secure Shell (SSH)?", o: ["21", "22", "23", "80"], a: 1, cat: "HND2" },
            { q: "In Computer Graphics, what is 'Rasterization'?", o: ["Vector creation", "Converting shapes to pixels", "Color mixing", "3D Modeling"], a: 1, cat: "HND2" },
            { q: "Which SDLC model is characterized by a sequential flow?", o: ["Agile", "Spiral", "Waterfall", "V-Model"], a: 2, cat: "HND2" }
            // Add more questions to reach 200+ following this exact format
        ];

        let activeQuizSet = [];
        let currentQ = 0;
        let score = 0;
        let timer;
        let timeLeft = 20;

        function startQuiz() {
            const level = document.getElementById('levelFilter').value;
            
            // 1. Filter Questions
            let pool = level === "ALL" ? [...TECH_QUIZ] : TECH_QUIZ.filter(q => q.cat === level);
            
            // Fallback if pool is too small for a specific category
            if(pool.length < 20) pool = [...TECH_QUIZ];

            // 2. Fisher-Yates Shuffle (Ensures NO repeats)
            for (let i = pool.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [pool[i], pool[j]] = [pool[j], pool[i]];
            }

            // 3. Take exactly 20
            activeQuizSet = pool.slice(0, 20);

            // 4. UI Transition
            document.getElementById('quiz-intro').classList.add('hidden');
            document.getElementById('quiz-active').classList.remove('hidden');
            
            renderQuestion();
        }

        function renderQuestion() {
            clearInterval(timer);
            timeLeft = 20;
            updateTimerUI();

            const q = activeQuizSet[currentQ];
            
            // Progress Logic
            document.getElementById('q-num-text').innerText = (currentQ + 1).toString().padStart(2, '0');
            document.getElementById('progress-fill').style.width = ((currentQ + 1) / 20 * 100) + "%";
            document.getElementById('q-text').innerText = q.q;

            const optBox = document.getElementById('q-options');
            optBox.innerHTML = "";
            q.o.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "option-btn";
                btn.innerHTML = `<span class="option-index">${String.fromCharCode(65+i)}</span> ${opt}`;
                btn.onclick = () => checkAnswer(i);
                optBox.appendChild(btn);
            });

            timer = setInterval(() => {
                timeLeft--;
                updateTimerUI();
                if(timeLeft <= 0) checkAnswer(-1);
            }, 1000);
        }

        function updateTimerUI() {
            const fill = document.getElementById('timer-fill');
            const text = document.getElementById('timer-text');
            fill.style.width = (timeLeft / 20 * 100) + "%";
            text.innerText = timeLeft + "s";
            fill.style.background = timeLeft < 6 ? "#ef4444" : "var(--gold)";
        }

        function checkAnswer(choice) {
            clearInterval(timer);
            if(choice === activeQuizSet[currentQ].a) score++;
            
            currentQ++;
            if(currentQ < 20) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('quiz-active').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            
            const percent = Math.round((score / 20) * 100);
            document.getElementById('score-display').innerText = percent + "%";
            
            let rank = "AMATEUR";
            let desc = "You need to immerse yourself deeper in the architecture of computing.";
            
            if(percent >= 90) { rank = "SYSTEM ARCHITECT"; desc = "Masterful. You possess the elite technical mindset required for global innovation."; }
            else if(percent >= 75) { rank = "SENIOR DEVELOPER"; desc = "Excellent grasp of concepts. You are ready for professional challenges."; }
            else if(percent >= 50) { rank = "TECH ASSOCIATE"; desc = "A solid foundation, but elite status requires knowing the 'why' behind the 'how'."; }

            document.getElementById('rank-name').innerText = "RANK: " + rank;
            document.getElementById('rank-desc').innerText = desc;
        }

        lucide.createIcons();
    </script>
</body>
</html>
